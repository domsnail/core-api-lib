syntax = "proto3";

package domsnail.bot.v1;

option go_package = "github.com/domsnail/core-api-lib/gen/go/api/proto/bot/v1;botv1";

import "protoc-gen-openapiv2/options/annotations.proto";
import "google/api/annotations.proto";
import "google/api/http.proto";

import "api/proto/whois/v1/whois.proto";

service WhoisBotService {
  rpc ProbeHost (whois.v1.ProbeOptions) returns (whois.v1.WhoisInfo) {
    option (google.api.http) = {
      post: "/v1/whois/probe"
    };

    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
      summary: "Probe host";
      description: "ProbeHost immediately starts whois query (manual use). Production use is limited due to system passing new tasks through redis queues";
    };
  }
}