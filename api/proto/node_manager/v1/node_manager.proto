syntax = "proto3";
package whois.v1;

option go_package = "gitlab.domsnail.ru/domsnail/core-api-lib/api/proto/node_manager/v1";

import "google/api/annotations.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";
import "google/openapiv2/annotations.proto";
import "google/openapiv2/openapiv2.proto";
import "hosts/v1/host.proto";
import "whois/v1/whois.proto";

service NodeManagerService {
  rpc GetBotsInfo (google.protobuf.Empty) returns (stream WhoisInfo) {
    option (google.api.http) = {
      get: "/v1/node/bots"
    };

    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {
      summary: "Получить статус ботов на узле"
      description: "Возвращает статус всех подключенных ботов на узле"
      tags: "Node Manager"
    };
  }
}